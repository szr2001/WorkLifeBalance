<Page
    Title="BackgroundWindowsViewPage"
    d:DesignHeight="960"
    d:DesignWidth="700"
    mc:Ignorable="d"
    x:Class="WorkLifeBalance.Views.BackgroundProcessesViewPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WorkLifeBalance.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Page.Resources>
        <Style
            BasedOn="{StaticResource RoundedBtnStyle}"
            TargetType="Button"
            x:Key="GreenAddBtn">
            <Setter Property="Background" Value="LimeGreen" />
        </Style>
    </Page.Resources>
    <Border Background="Transparent" CornerRadius="15">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="180" />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition />
                <RowDefinition Height="50" />
            </Grid.RowDefinitions>

            <StackPanel
                Grid.Column="1"
                Grid.Row="0"
                Margin="0,0,10,0"
                Orientation="Vertical">

                <TextBlock
                    FontSize="15"
                    FontWeight="Bold"
                    Foreground="White"
                    HorizontalAlignment="Center"
                    Margin="4"
                    Text="Selected as 'Working'"
                    VerticalAlignment="Center" />
                <Border
                    Background="{StaticResource WBlue}"
                    CornerRadius="20"
                    Height="200">
                    <ScrollViewer VerticalScrollBarVisibility="Hidden">
                        <Grid>
                            <ItemsControl ItemsSource="{Binding SelectedProcesses}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <!--  Use a WrapPanel to automatically arrange items in rows  -->
                                        <WrapPanel Margin="5" Orientation="Horizontal" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border
                                            Background="DarkMagenta"
                                            CornerRadius="8"
                                            Margin="2">
                                            <Button
                                                Background="{StaticResource WPurple}"
                                                Command="{Binding DataContext.DeselectProcessCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                                                CommandParameter="{Binding}"
                                                Margin="4"
                                                Style="{StaticResource RoundedBtnStyle}"
                                                Template="{StaticResource SlightRoundedBtnTemp}">
                                                <TextBlock
                                                    FontSize="15"
                                                    FontWeight="Bold"
                                                    Foreground="White"
                                                    Padding="5"
                                                    Text="{Binding}" />
                                            </Button>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </ScrollViewer>
                </Border>
                <Border
                    Background="{StaticResource WBlue}"
                    CornerRadius="20"
                    Height="200"
                    Margin="0,10,0,0">
                    <ScrollViewer VerticalScrollBarVisibility="Hidden">
                        <Grid>
                            <ItemsControl ItemsSource="{Binding SelectedPages}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <!--  Use a WrapPanel to automatically arrange items in rows  -->
                                        <WrapPanel Margin="5" Orientation="Horizontal" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border
                                            Background="DarkMagenta"
                                            CornerRadius="8"
                                            Margin="2">
                                            <Button
                                                Background="{StaticResource WPurple}"
                                                Command="{Binding DataContext.DeselectPageCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                                                CommandParameter="{Binding}"
                                                Margin="4"
                                                Style="{StaticResource RoundedBtnStyle}"
                                                Template="{StaticResource SlightRoundedBtnTemp}">
                                                <TextBlock
                                                    FontSize="15"
                                                    FontWeight="Bold"
                                                    Foreground="White"
                                                    Padding="5"
                                                    Text="{Binding}" />
                                            </Button>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </StackPanel>
            <StackPanel
                Grid.Column="1"
                Grid.Row="1"
                Grid.RowSpan="4"
                Margin="0,0,10,0"
                Orientation="Vertical">
                <TextBlock
                    FontSize="15"
                    FontWeight="Bold"
                    Foreground="White"
                    HorizontalAlignment="Center"
                    Margin="4"
                    Text="Detected processes"
                    VerticalAlignment="Center" />
                <Border
                    Background="{StaticResource WBlue}"
                    CornerRadius="20"
                    Height="200">
                    <ScrollViewer VerticalScrollBarVisibility="Hidden">
                        <Grid>
                            <ItemsControl ItemsSource="{Binding DetectedWindows}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <!--  Use a WrapPanel to automatically arrange items in rows  -->
                                        <WrapPanel Margin="5" Orientation="Horizontal" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border
                                            Background="{StaticResource WBlueHighlight}"
                                            CornerRadius="15"
                                            Grid.Column="2"
                                            Grid.ColumnSpan="2"
                                            Grid.Row="2"
                                            Grid.RowSpan="4"
                                            Margin="2"
                                            Panel.ZIndex="12">
                                            <Button
                                                Background="{StaticResource WBlueShadow}"
                                                Command="{Binding DataContext.SelectProcessCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                                                CommandParameter="{Binding}"
                                                Margin="4"
                                                Style="{StaticResource RoundedBtnStyle}"
                                                Template="{StaticResource SlightRoundedBtnTemp}">
                                                <TextBlock
                                                    FontSize="15"
                                                    FontWeight="Bold"
                                                    Foreground="White"
                                                    Padding="5"
                                                    Text="{Binding}" />
                                            </Button>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </ScrollViewer>
                </Border>
                <TextBlock
                    FontSize="15"
                    FontWeight="Bold"
                    Foreground="White"
                    HorizontalAlignment="Center"
                    Margin="4"
                    Text="Detected pages"
                    VerticalAlignment="Center" />
                <Border
                    Background="{StaticResource WBlue}"
                    CornerRadius="20"
                    Height="155"
                    Margin="0,5,0,0">
                    <ScrollViewer VerticalScrollBarVisibility="Hidden">
                        <Grid>
                            <ItemsControl ItemsSource="{Binding DetectedTabs, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <!--  Use a WrapPanel to automatically arrange items in rows  -->
                                        <WrapPanel Margin="5" Orientation="Horizontal" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border
                                            Background="{StaticResource WBlueHighlight}"
                                            CornerRadius="15"
                                            Grid.Column="2"
                                            Grid.ColumnSpan="2"
                                            Grid.Row="2"
                                            Grid.RowSpan="4"
                                            Margin="2"
                                            Panel.ZIndex="12">
                                            <Button
                                                Background="{StaticResource WBlueShadow}"
                                                Command="{Binding DataContext.SelectTabCommand, RelativeSource={RelativeSource AncestorType=Page}}"
                                                CommandParameter="{Binding}"
                                                Margin="4"
                                                Style="{StaticResource RoundedBtnStyle}"
                                                Template="{StaticResource SlightRoundedBtnTemp}">
                                                <TextBlock
                                                    FontSize="15"
                                                    FontWeight="Bold"
                                                    Foreground="White"
                                                    Padding="5"
                                                    Text="{Binding}" />
                                            </Button>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Grid>
                    </ScrollViewer>

                </Border>
            </StackPanel>
            <Border
                Background="{StaticResource WBlue}"
                CornerRadius="15"
                Margin="5,27,5,0">
                <TextBlock
                    FontSize="15"
                    FontWeight="Bold"
                    Foreground="PapayaWhip"
                    Margin="4"
                    Text="You can select what processes/pages considered as 'Working' and the app will try to detect when you are working based on what window is focused"
                    TextAlignment="Center"
                    TextWrapping="Wrap"
                    VerticalAlignment="Center" />
            </Border>
            <Border
                Background="{StaticResource WBlue}"
                CornerRadius="20"
                Grid.Row="1"
                Height="50"
                Margin="10,26"
                VerticalAlignment="Top">
                <StackPanel
                    HorizontalAlignment="Stretch"
                    Orientation="Vertical"
                    VerticalAlignment="Center">
                    <TextBlock
                        FontSize="15"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="Active Window"
                        TextAlignment="Center" />
                    <TextBlock
                        FontSize="11"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="{Binding ActiveWindow}"
                        TextAlignment="Center" />
                </StackPanel>
            </Border>
            <Border
                Background="{StaticResource WBlue}"
                CornerRadius="20"
                Grid.Row="2"
                Height="50"
                Margin="10,26"
                VerticalAlignment="Top">
                <StackPanel
                    HorizontalAlignment="Stretch"
                    Orientation="Vertical"
                    VerticalAlignment="Center">
                    <TextBlock
                        FontSize="15"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="Active Page"
                        TextAlignment="Center" />
                    <TextBlock
                        FontSize="11"
                        FontWeight="Bold"
                        Foreground="White"
                        Text="{Binding ActivePage}"
                        TextAlignment="Center" />
                </StackPanel>
            </Border>
            <Border
                Background="{StaticResource WBlue}"
                CornerRadius="15"
                Grid.Column="0"
                Grid.Row="3"
                Margin="10,5">
                <TextBlock
                    FontSize="15"
                    FontWeight="Bold"
                    Foreground="PapayaWhip"
                    Margin="4"
                    Text="Add pages to be considered as 'Working' when they are active"
                    TextAlignment="Center"
                    TextWrapping="Wrap"
                    VerticalAlignment="Center" />
            </Border>
            <Border
                Grid.Column="0"
                Grid.Row="4"
                Margin="10,20">
                <StackPanel HorizontalAlignment="Center">
                    <Button
                        Command="{Binding OpenAddPageWindowCommand}"
                        Grid.Row="0"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,10"
                        Style="{StaticResource GreenAddBtn}"
                        Template="{StaticResource SlightRoundedBtnTemp}"
                        VerticalAlignment="Center">
                        <TextBlock
                            FontSize="25"
                            FontWeight="Bold"
                            Foreground="White"
                            HorizontalAlignment="Center"
                            Margin="4"
                            Text="Add pages"
                            VerticalAlignment="Center"
                            x:Name="AddBtn" />

                    </Button>
                </StackPanel>
            </Border>
            <Button
                Command="{Binding ReturnToPreviousPageCommand}"
                Grid.Row="8"
                HorizontalAlignment="Center"
                Margin="5,0,0,10"
                Style="{StaticResource RoundedBtnStyle}"
                Template="{StaticResource SlightRoundedBtnTemp}"
                VerticalAlignment="Center"
                Width="120">
                <TextBlock
                    FontSize="25"
                    FontWeight="Bold"
                    Foreground="White"
                    HorizontalAlignment="Center"
                    Margin="4"
                    Text="Back"
                    VerticalAlignment="Center" />
            </Button>
        </Grid>
    </Border>
</Page>